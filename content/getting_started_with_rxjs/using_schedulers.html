<!DOCTYPE HTML>
<html lang="en-US" manifest="..\../manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Using Schedulers | RxJS - Javascript library for functional reactive programming.</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.5.6">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <meta name="author" content="xgrommx">
    
    
    <link rel="next" href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html" />
    
    
    <link rel="prev" href="..\../content/getting_started_with_rxjs/subjects.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../../gitbook/style.css">


        
    <div class="book" data-github="xgrommx/rx-book" data-level="1.4" data-basepath="..\.." data-revision="1404313023185">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/xgrommx/rx-book" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/xgrommx/rx-book/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/xgrommx/rx-book/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="..\../" >RxJS - Javascript library for functional reactive programming.</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/xgrommx" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/xgrommx/rx-book/issues" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/xgrommx/rx-book/edit/master/content/getting_started_with_rxjs/using_schedulers.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="..\../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="content/getting_started_with_rxjs/README.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Getting Started With RxJS
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="content/getting_started_with_rxjs/what_are_the_reactive_extensions.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/what_are_the_reactive_extensions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         What are the Reactive Extensions?
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Exploring Major Concepts in RxJS
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="content/getting_started_with_rxjs/subjects.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/subjects.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         Subjects
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.4" data-path="content/getting_started_with_rxjs/using_schedulers.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/using_schedulers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                         Using Schedulers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.5" data-path="content/getting_started_with_rxjs/testing_your_rx_application.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                         Testing your Rx application
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.6" data-path="content/getting_started_with_rxjs/implementing_your_own_observable_operators.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/implementing_your_own_observable_operators.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                         Implementing Your Own Observable Operators
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="content/creating_and_querying_observable_sequences/README.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Creating and Querying Observable Sequences
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Creating and Subscribing to Simple Observable Sequences
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="content/creating_and_querying_observable_sequences/bridging_to_events.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Bridging to Events
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         Bridging to Callbacks and Promises
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="content/creating_and_querying_observable_sequences/querying_observable_sequences.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/querying_observable_sequences.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         Querying Observable Sequences
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="content/creating_and_querying_observable_sequences/operators_by_category.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/operators_by_category.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         Operators by Category
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="content/observable/README.html">
            
                
                    <a href="..\../content/observable/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Rx.Observable
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="content/observable/amb.html">
            
                
                    <a href="..\../content/observable/amb.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         amb
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="content/observable/case.html">
            
                
                    <a href="..\../content/observable/case.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         case
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="content/observable/catch.html">
            
                
                    <a href="..\../content/observable/catch.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         catch
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="content/observable/concat.html">
            
                
                    <a href="..\../content/observable/concat.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         concat
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="content/observable/create.html">
            
                
                    <a href="..\../content/observable/create.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         create
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="content/observable/defer.html">
            
                
                    <a href="..\../content/observable/defer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         defer
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.7" data-path="content/observable/empty.html">
            
                
                    <a href="..\../content/observable/empty.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                         empty
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 23.80952380952381%;min-width: 19.047619047619047%;"></div>
    </div>
    <div class="chapters">
    
        <a href="..\../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/README.html" title="Getting Started With RxJS" class="chapter done new-chapter" data-progress="1" style="left: 4.761904761904762%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/what_are_the_reactive_extensions.html" title="What are the Reactive Extensions?" class="chapter done " data-progress="1.1" style="left: 9.523809523809524%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html" title="Exploring Major Concepts in RxJS" class="chapter done " data-progress="1.2" style="left: 14.285714285714286%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/subjects.html" title="Subjects" class="chapter done " data-progress="1.3" style="left: 19.047619047619047%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/using_schedulers.html" title="Using Schedulers" class="chapter done " data-progress="1.4" style="left: 23.80952380952381%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html" title="Testing your Rx application" class="chapter  " data-progress="1.5" style="left: 28.571428571428573%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/implementing_your_own_observable_operators.html" title="Implementing Your Own Observable Operators" class="chapter  " data-progress="1.6" style="left: 33.333333333333336%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/README.html" title="Creating and Querying Observable Sequences" class="chapter  new-chapter" data-progress="2" style="left: 38.095238095238095%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html" title="Creating and Subscribing to Simple Observable Sequences" class="chapter  " data-progress="2.1" style="left: 42.857142857142854%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html" title="Bridging to Events" class="chapter  " data-progress="2.2" style="left: 47.61904761904762%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html" title="Bridging to Callbacks and Promises" class="chapter  " data-progress="2.3" style="left: 52.38095238095238%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/querying_observable_sequences.html" title="Querying Observable Sequences" class="chapter  " data-progress="2.4" style="left: 57.142857142857146%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/operators_by_category.html" title="Operators by Category" class="chapter  " data-progress="2.5" style="left: 61.904761904761905%;"></a>
    
        <a href="..\../content/observable/README.html" title="Rx.Observable" class="chapter  new-chapter" data-progress="3" style="left: 66.66666666666667%;"></a>
    
        <a href="..\../content/observable/amb.html" title="amb" class="chapter  " data-progress="3.1" style="left: 71.42857142857143%;"></a>
    
        <a href="..\../content/observable/case.html" title="case" class="chapter  " data-progress="3.2" style="left: 76.19047619047619%;"></a>
    
        <a href="..\../content/observable/catch.html" title="catch" class="chapter  " data-progress="3.3" style="left: 80.95238095238095%;"></a>
    
        <a href="..\../content/observable/concat.html" title="concat" class="chapter  " data-progress="3.4" style="left: 85.71428571428571%;"></a>
    
        <a href="..\../content/observable/create.html" title="create" class="chapter  " data-progress="3.5" style="left: 90.47619047619048%;"></a>
    
        <a href="..\../content/observable/defer.html" title="defer" class="chapter  " data-progress="3.6" style="left: 95.23809523809524%;"></a>
    
        <a href="..\../content/observable/empty.html" title="empty" class="chapter  " data-progress="3.7" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_14">
                    
                        <h1 id="using-schedulers">Using Schedulers</h1>
<p>A scheduler controls when a subscription starts and when notifications are published. It consists of three components. It is first a data structure. When you schedule for tasks to be completed, they are put into the scheduler for queueing based on priority or other criteria. It also offers an execution context which denotes where the task is executed (e.g., in the immediately, current thread, or in another callback mechanism such as <code>setTimeout</code> or <code>process.nextTick</code>). Lastly, it has a clock which provides a notion of time for itself (by accessing the <code>now</code> method of a scheduler). Tasks being scheduled on a particular scheduler will adhere to the time denoted by that clock only.</p>
<p>Schedulers also introduce the notion of virtual time (denoted by the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/virtualtimescheduler.md" target="_blank"><code>VirtualTimeScheduler</code></a> type), which does not correlate with real time that is used in our daily life. For example, a sequence that is specified to take 100 years to complete can be scheduled to complete in virtual time in a mere 5 minutes. This will be covered in the <a href="testing.html">Testing and Debugging Observable Sequences</a> topic.</p>
<h2 id="scheduler-types">Scheduler Types</h2>
<p>The various Scheduler types provided by Rx all implement the <code>Scheduler</code> methods. Each of these can be created and returned by using static properties of the <code>Scheduler</code> object. The <code>ImmediateScheduler</code> (by accessing the static <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulerimmediate" target="_blank"><code>immediate</code></a> property) will start the specified action immediately. The <code>CurrentThreadScheduler</code> (by accessing the static <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulercurrentthread" target="_blank"><code>currentThread</code></a> property) will schedule actions to be performed on the thread that makes the original call. The action is not executed immediately, but is placed in a queue and only executed after the current action is complete.  The <code>TimeoutScheduler</code> (by accessing the static <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulertimeout" target="_blank"><code>timeout</code></a> property) will schedule actions to be performed on a asynchronous callback, which is optimized for the particular runtime, such as <code>setImmediate</code> or <code>process.nextTick</code> on Node.js or in the browser with a fallback to <code>setTimeout</code>.</p>
<h2 id="using-schedulers">Using Schedulers</h2>
<p>You may have already used schedulers in your Rx code without explicitly stating the type of schedulers to be used. This is because all Observable operators that deal with concurrency have optional schedulers. If you do not provide the scheduler, RxJS will pick a default scheduler by using the principle of least concurrency. This means that the scheduler which introduces the least amount of concurrency that satisfies the needs of the operator is chosen.  For example, for operators returning an observable with a finite and small number of messages, RxJS calls <code>immediate</code>.  For operators returning a potentially large or infinite number of messages, <code>currentThread</code> is called. For operators which use timers, <code>timeout</code> is used.</p>
<p>Because RxJS uses the least concurrency scheduler, you can pick a different scheduler if you want to introduce concurrency for performance purpose.  To specify a particular scheduler, you can use those operator methods that take a scheduler, e.g., <code>return(42, Rx.Scheduler.timeout)</code>.</p>
<p>In the following example, the source observable sequence is producing values at a frantic pace. The default scheduler of the generate operator would place onNext messages on the <code>currentThread</code>.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> obs = Rx.Observable.generate(
    <span class="hljs-number">0</span>,
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">return</span> x + <span class="hljs-number">1</span>; },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">return</span> x; });
</code></pre>
<p>This will queue up on the observer quickly. We can improve this code by using the observeOn operator, which allows you to specify the context that you want to use to send pushed notifications (onNext) to observers. By default, the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypeobserveonscheduler" target="_blank"><code>observeOn</code></a> operator ensures that <code>onNext</code> will be called as many times as possible on the current thread. You can use its overloads and redirect the <code>onNext</code> outputs to a different context. In addition, you can use the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypesubscribeonscheduler" target="_blank"><code>subscribeOn</code></a> operator to return a proxy observable that delegates actions to a specific scheduler. For example, for a UI-intensive application, you can delegate all background operations to be performed on a scheduler running in the background by using <code>subscribeOn</code> and passing to it the <code>TimeoutScheduler</code>.</p>
<p>The following example will schedule any onNext notifications on the current Dispatcher, so that any value pushed out is sent on the UI thread. This is especially beneficial to Silverlight developers who use RxJS.</p>
<pre><code class="lang-js">Rx.Observable.generate(
    <span class="hljs-number">0</span>,
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">return</span> x + <span class="hljs-number">1</span>; },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">return</span> x; }
    )
    .observeOn(Rx.Scheduler.timeout)
    .subscribe(...);
</code></pre>
<p>Instead of using the <code>observeOn</code> operator to change the execution context on which the observable sequence produces messages, we can create concurrency in the right place to begin with. As operators parameterize introduction of concurrency by providing a scheduler argument overload, passing the right scheduler will lead to fewer places where the ObserveOn operator has to be used. For example, we can unblock the observer and subscribe to the UI thread directly by changing the scheduler used by the source, as in the following example. In this code, by using the <code>generate</code> method passing a scheduler, and providing the <code>Rx.Scheduler.timeout</code> instance, all values pushed out from this observable sequence will originate via an asynchronous callback.</p>
<pre><code class="lang-js">Rx.Observable.generate(
    <span class="hljs-number">0</span>,
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">return</span> x + <span class="hljs-number">1</span>; },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">return</span> x; },
    observeOn(Rx.Scheduler.timeout)
    .subscribe(...);
</code></pre>
<p>You should also note that by using the <code>observeOn</code> operator, an action is scheduled for each message that comes through the original observable sequence. This potentially changes timing information as well as puts additional stress on the system. If you have a query that composes various observable sequences running on many different execution contexts, and you are doing filtering in the query, it is best to place <code>observeOn</code> later in the query. This is because a query will potentially filter out a lot of messages, and placing the <code>observeOn</code> operator earlier in the query would do extra work on messages that would be filtered out anyway. Calling the <code>observeOn</code> operator at the end of the query will create the least performance impact.</p>
<p>Another advantage of specifying a scheduler type explicitly is that you can introduce concurrency for performance purpose, as illustrated by the following code.</p>
<pre><code class="lang-js">seq.groupBy(...)
        .select(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">return</span> x.observeOn(Rx.Scheduler.timeout); })
        .select(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span>  {</span> <span class="hljs-keyword">return</span> expensive(x); })  <span class="hljs-comment">// perform operations that are expensive on resources</span>
</code></pre>
<h2 id="when-to-use-which-scheduler">When to Use Which Scheduler</h2>
<p>To make things a little easier when you are creating your own operators, or using the standard built-in ones, which scheduler you should use.  The following table lays out each scenario with the suggested scheduler.</p>
<table>
    <th>
        Scenario
    </th>
    <th>
        Scheduler
    </th>
    <tr>
        <td>Constant Time Operations</td>
        <td><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulerimmediate">Rx.Scheduler.immediate</a></td>
    </tr>
    <tr>
        <td>Tail Recursive Operations</td>
        <td><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulerimmediate">Rx.Scheduler.immediate</a></td>
    </tr>
    <tr>
        <td>Iteration Operations</td>
        <td><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulercurrentthread">Rx.Scheduler.currentThread</a></td>
    </tr>
    <tr>
        <td>Time-based Operations</td>
        <td><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulertimeout">Rx.Scheduler.timeout</a></td>
    </tr>
    <tr>
        <td>Asynchronous Conversions</td>
        <td><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/scheduler.md#rxschedulertimeout">Rx.Scheduler.timeout</a></td>
    </tr>
    <tr>
        <td>Historical Data Operations</td>
        <td><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/schedulers/historicalscheduler.md">Rx.HistoricalScheduler</a></td>
    </tr>
    <tr>
        <td>Unit Testing</td>
        <td><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/testing/testscheduler.md">Rx.TestScheduler</a></td>
    </tr>
</table>

<h2 id="see-also">See Also</h2>
<p><em>Reference</em></p>
<ul>
<li><a href="testing.html">Testing and Debugging Observable Sequences</a></li>
</ul>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="..\../content/getting_started_with_rxjs/subjects.html" class="navigation navigation-prev " aria-label="Previous page: Subjects"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html" class="navigation navigation-next " aria-label="Next page: Testing your Rx application"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"white","family":"sans"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
