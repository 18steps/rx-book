<!DOCTYPE HTML>
<html lang="en-US" manifest="..\../manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Bridging to Events | RxJS - Javascript library for functional reactive programming.</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.5.6">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <meta name="author" content="xgrommx">
    
    
    <link rel="next" href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html" />
    
    
    <link rel="prev" href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../../gitbook/style.css">


        
    <div class="book" data-github="xgrommx/rx-book" data-level="2.2" data-basepath="..\.." data-revision="1404313023185">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/xgrommx/rx-book" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/xgrommx/rx-book/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/xgrommx/rx-book/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="..\../" >RxJS - Javascript library for functional reactive programming.</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/xgrommx" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/xgrommx/rx-book/issues" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/xgrommx/rx-book/edit/master/content/creating_and_querying_observable_sequences/bridging_to_events.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="..\../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="content/getting_started_with_rxjs/README.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Getting Started With RxJS
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="content/getting_started_with_rxjs/what_are_the_reactive_extensions.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/what_are_the_reactive_extensions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         What are the Reactive Extensions?
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Exploring Major Concepts in RxJS
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="content/getting_started_with_rxjs/subjects.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/subjects.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         Subjects
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.4" data-path="content/getting_started_with_rxjs/using_schedulers.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/using_schedulers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                         Using Schedulers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.5" data-path="content/getting_started_with_rxjs/testing_your_rx_application.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                         Testing your Rx application
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.6" data-path="content/getting_started_with_rxjs/implementing_your_own_observable_operators.html">
            
                
                    <a href="..\../content/getting_started_with_rxjs/implementing_your_own_observable_operators.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                         Implementing Your Own Observable Operators
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="content/creating_and_querying_observable_sequences/README.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Creating and Querying Observable Sequences
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Creating and Subscribing to Simple Observable Sequences
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="content/creating_and_querying_observable_sequences/bridging_to_events.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Bridging to Events
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         Bridging to Callbacks and Promises
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="content/creating_and_querying_observable_sequences/querying_observable_sequences.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/querying_observable_sequences.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         Querying Observable Sequences
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="content/creating_and_querying_observable_sequences/operators_by_category.html">
            
                
                    <a href="..\../content/creating_and_querying_observable_sequences/operators_by_category.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         Operators by Category
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="content/observable/README.html">
            
                
                    <a href="..\../content/observable/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Rx.Observable
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="content/observable/amb.html">
            
                
                    <a href="..\../content/observable/amb.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         amb
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="content/observable/case.html">
            
                
                    <a href="..\../content/observable/case.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         case
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="content/observable/catch.html">
            
                
                    <a href="..\../content/observable/catch.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         catch
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="content/observable/concat.html">
            
                
                    <a href="..\../content/observable/concat.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         concat
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="content/observable/create.html">
            
                
                    <a href="..\../content/observable/create.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         create
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="content/observable/defer.html">
            
                
                    <a href="..\../content/observable/defer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         defer
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.7" data-path="content/observable/empty.html">
            
                
                    <a href="..\../content/observable/empty.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                         empty
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 47.61904761904762%;min-width: 42.857142857142854%;"></div>
    </div>
    <div class="chapters">
    
        <a href="..\../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/README.html" title="Getting Started With RxJS" class="chapter done new-chapter" data-progress="1" style="left: 4.761904761904762%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/what_are_the_reactive_extensions.html" title="What are the Reactive Extensions?" class="chapter done " data-progress="1.1" style="left: 9.523809523809524%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/exploring_major_concepts_in_rxjs.html" title="Exploring Major Concepts in RxJS" class="chapter done " data-progress="1.2" style="left: 14.285714285714286%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/subjects.html" title="Subjects" class="chapter done " data-progress="1.3" style="left: 19.047619047619047%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/using_schedulers.html" title="Using Schedulers" class="chapter done " data-progress="1.4" style="left: 23.80952380952381%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/testing_your_rx_application.html" title="Testing your Rx application" class="chapter done " data-progress="1.5" style="left: 28.571428571428573%;"></a>
    
        <a href="..\../content/getting_started_with_rxjs/implementing_your_own_observable_operators.html" title="Implementing Your Own Observable Operators" class="chapter done " data-progress="1.6" style="left: 33.333333333333336%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/README.html" title="Creating and Querying Observable Sequences" class="chapter done new-chapter" data-progress="2" style="left: 38.095238095238095%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html" title="Creating and Subscribing to Simple Observable Sequences" class="chapter done " data-progress="2.1" style="left: 42.857142857142854%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_events.html" title="Bridging to Events" class="chapter done " data-progress="2.2" style="left: 47.61904761904762%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html" title="Bridging to Callbacks and Promises" class="chapter  " data-progress="2.3" style="left: 52.38095238095238%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/querying_observable_sequences.html" title="Querying Observable Sequences" class="chapter  " data-progress="2.4" style="left: 57.142857142857146%;"></a>
    
        <a href="..\../content/creating_and_querying_observable_sequences/operators_by_category.html" title="Operators by Category" class="chapter  " data-progress="2.5" style="left: 61.904761904761905%;"></a>
    
        <a href="..\../content/observable/README.html" title="Rx.Observable" class="chapter  new-chapter" data-progress="3" style="left: 66.66666666666667%;"></a>
    
        <a href="..\../content/observable/amb.html" title="amb" class="chapter  " data-progress="3.1" style="left: 71.42857142857143%;"></a>
    
        <a href="..\../content/observable/case.html" title="case" class="chapter  " data-progress="3.2" style="left: 76.19047619047619%;"></a>
    
        <a href="..\../content/observable/catch.html" title="catch" class="chapter  " data-progress="3.3" style="left: 80.95238095238095%;"></a>
    
        <a href="..\../content/observable/concat.html" title="concat" class="chapter  " data-progress="3.4" style="left: 85.71428571428571%;"></a>
    
        <a href="..\../content/observable/create.html" title="create" class="chapter  " data-progress="3.5" style="left: 90.47619047619048%;"></a>
    
        <a href="..\../content/observable/defer.html" title="defer" class="chapter  " data-progress="3.6" style="left: 95.23809523809524%;"></a>
    
        <a href="..\../content/observable/empty.html" title="empty" class="chapter  " data-progress="3.7" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_4">
                    
                        <h1 id="bridging-to-events">Bridging to Events</h1>
<p>RxJS provides factory methods for you to bridge with existing asynchronous sources in the DOM or Node.js so that you can employ the rich composing, filtering and resource management features provided by RxJS on any kind of data streams. This topic examines the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablefromeventelement-eventname" target="_blank"><code>fromEvent</code></a> and <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablefromeventpatternaddhander-removehandler" target="_blank"><code>fromEventPattern</code></a> operator that allows &quot;importing&quot; a DOM or custom event into RxJS as an observable sequence. Every time an event is raised, an <code>onNext</code> message will be delivered to the observable sequence. You can then manipulate event data just like any other observable sequences.</p>
<p>RxJS does not aim at replacing existing asynchronous programming models such as promises or callbacks. However, when you attempt to compose events, RxJS’s factory methods will provide you the convenience that cannot be found in the current programming model. This is especially true for resource maintenance (e.g., when to unsubscribe) and filtering (e.g., choosing what kind of data to receive). In this topic and the ones that follow, you can examine how these RxJS features can assist you in asynchronous programming.</p>
<h2 id="converting-a-dom-event-to-a-rxjs-observable-sequence">Converting a DOM event to a RxJS Observable Sequence</h2>
<p>The following sample creates a simple DOM event handler for the mouse move event, and prints out the mouse’s location on the page.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> result = document.getElementById(<span class="hljs-string">'result'</span>);

document.addEventListener(<span class="hljs-string">'mousemove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span>
    result.innerHTML = e.clientX + <span class="hljs-string">', '</span> + e.clientY;
}, <span class="hljs-literal">false</span>);
</code></pre>
<p>To import an event into RxJS, you can use the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablefromeventelement-eventname" target="_blank"><code>fromEvent</code></a> operator, and provide the event arguments that will be raised by the event being bridged. It then converts the given event into an observable sequence.</p>
<p>In the following example, we convert the mousemove event stream of the DOM into an observable sequence. Every time a mouse-move event is fired, the subscriber will receive an <code>onNext</code> notification. We can then examine the event arguments value of such notification and get the location of the mouse-move.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> result = document.getElementById(<span class="hljs-string">'result'</span>);

<span class="hljs-keyword">var</span> source = Rx.Observable.fromEvent(document, <span class="hljs-string">'mousemove'</span>);

<span class="hljs-keyword">var</span> subscription = source.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span>
    result.innerHTML = e.clientX + <span class="hljs-string">', '</span> + e.clientY;
});
</code></pre>
<p>Notice that in this sample, move becomes an observable sequence in which we can manipulate further. The <a href="querying.html">Querying Observable Sequences</a> topic will show you how you can project this sequence into a collection of Points type and filter its content, so that your application will only receive values that satisfy a certain criteria.</p>
<p>Cleaning up of the event handler is taken care of by the <code>Disposable</code> object returned by the <code>subscribe</code> method. Calling <code>dispose</code> will release all resources being used by the sequence including the underlying event handler. This essentially takes care of unsubscribing to an event on your behalf.</p>
<p>The <code>fromEvent</code> method also supports adding event handlers to multiple items, for example a DOM NodeList.  This example will add the &#39;click&#39; to each element in the list.</p>
<pre><code>var result = document.getElementById(&#39;result&#39;);
var sources = document.querySelectorAll(&#39;div&#39;);

var source = Rx.Observable.fromEvent(sources, &#39;click&#39;);

var subscription = source.subscribe(function (e) {
    result.innerHTML = e.clientX + &#39;, &#39; + e.clientY;
});
</code></pre><p>In addition, <code>fromEvent</code> also supports libraries such as <a href="http://jquery.com/" target="_blank">jQuery</a>:</p>
<pre><code>var $result = $(&#39;#result&#39;);
var $sources = $(&#39;div&#39;);

var source = Rx.Observable.fromEvent($sources, &#39;click&#39;);

var subscription = source.subscribe(function (e) {
    $result.html(e.clientX + &#39;, &#39; + e.clientY);
});
</code></pre><h2 id="converting-a-node-js-event-to-a-rxjs-observable-sequence">Converting a Node.js event to a RxJS Observable Sequence</h2>
<p>Node.js is also supported such as an <a href="http://nodejs.org/api/events.html#events_class_events_eventemitter" target="_blank"><code>EventEmitter</code></a>:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Rx = <span class="hljs-built_in">require</span>(<span class="hljs-string">'rx'</span>),
    EventEmitter = <span class="hljs-built_in">require</span>(<span class="hljs-string">'events'</span>).EventEmitter;

<span class="hljs-keyword">var</span> eventEmitter = <span class="hljs-keyword">new</span> EventEmitter();

<span class="hljs-keyword">var</span> source = Rx.Observable.fromEvent(eventEmitter, <span class="hljs-string">'data'</span>)

<span class="hljs-keyword">var</span> subscription = source.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(data)</span> {</span>
    console.log(<span class="hljs-string">'data: '</span> + data);
});

eventEmitter.emit(<span class="hljs-string">'data'</span>, <span class="hljs-string">'foo'</span>);
<span class="hljs-comment">// =&gt; data: foo</span>
</code></pre>
<h2 id="bridging-to-custom-events-with-fromeventpattern">Bridging to Custom Events with FromEventPattern</h2>
<p>There may be instances dealing with libraries which have different ways of subscribing and unsubscribing from events.  The <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablefromeventpatternaddhander-removehandler" target="_blank"><code>fromEventPattern</code></a> method was created exactly for this purpose to allow you to bridge to each of these custom event emitters.</p>
<p>For example, you might want to bridge to using jQuery <a href="http://api.jquery.com/on/" target="_blank"><code>on</code></a> method.  We can convert the following code which alerts based upon the click of a table row.</p>
<pre><code class="lang-js">$( <span class="hljs-string">"#dataTable tbody"</span> ).on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'tr'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
  alert( $( <span class="hljs-keyword">this</span> ).text() );
});
</code></pre>
<p>The converted code looks like this while using the <code>fromEventPattern</code> method.  Each function passes in the handler function which allows you to call the <code>on</code> and <code>off</code> methods to properly handle disposal of events.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> $tbody = $(<span class="hljs-string">'#dataTable tbody'</span>);

<span class="hljs-keyword">var</span> source = Rx.Observable.fromEventPattern(
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addHandler</span> <span class="hljs-params">(h)</span> {</span> $tbody.on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'tr'</span>, h); },
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delHandler</span> <span class="hljs-params">(h)</span> {</span> $tbody.off(<span class="hljs-string">'click'</span>, <span class="hljs-string">'tr'</span>, h); });

<span class="hljs-keyword">var</span> subscription = source.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> {</span>
    alert( $(e.target).text() );
});
</code></pre>
<p>In addition to this normal support, we also support if the <code>addHandler</code> returns an object, it can be passed to the <code>removeHandler</code> to properly unsubscribe.  In this example, we&#39;ll use the <a href="http://dojotoolkit.org" target="_blank">Dojo Toolkit</a> and the <a href="http://dojotoolkit.org/api/1.9/dojo/on.html" target="_blank"><code>on</code></a> module.</p>
<pre><code class="lang-js"><span class="hljs-built_in">require</span>([<span class="hljs-string">'dojo/on'</span>, <span class="hljs-string">'dojo/dom'</span>, <span class="hljs-string">'rx'</span>, <span class="hljs-string">'rx.async'</span>, <span class="hljs-string">'rx.binding'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(on, dom, rx)</span> {</span>

    <span class="hljs-keyword">var</span> input = dom.byId(<span class="hljs-string">'input'</span>);

    <span class="hljs-keyword">var</span> source = Rx.Observable.fromEventPattern(
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addHandler</span> <span class="hljs-params">(h)</span> {</span>
            <span class="hljs-keyword">return</span> on(input, <span class="hljs-string">'click'</span>, h);
        },
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delHandler</span> <span class="hljs-params">(_, signal)</span> {</span>
            signal.remove();
        }
    );

    <span class="hljs-keyword">var</span> subscription = source.subscribe(
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(x)</span> {</span>
            console.log(<span class="hljs-string">'Next: Clicked!'</span>);
        },
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(err)</span> {</span>
            console.log(<span class="hljs-string">'Error: '</span> + err);
        },
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
            console.log(<span class="hljs-string">'Completed'</span>);
        });

    on.emit(input, <span class="hljs-string">'click'</span>);
    <span class="hljs-comment">// =&gt; Next: Clicked!</span>
});
</code></pre>
<h2 id="see-also">See Also</h2>
<p>Concepts</p>
<ul>
<li><a href="querying.html">Querying Observable Sequences</a></li>
</ul>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="..\../content/creating_and_querying_observable_sequences/creating_and_subscribing_to_simple_observable_sequences.html" class="navigation navigation-prev " aria-label="Previous page: Creating and Subscribing to Simple Observable Sequences"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="..\../content/creating_and_querying_observable_sequences/bridging_to_callbacks_and_promises.html" class="navigation navigation-next " aria-label="Next page: Bridging to Callbacks and Promises"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="../../gitbook/app.js"></script>

    
    <script src="../../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"white","family":"sans"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
